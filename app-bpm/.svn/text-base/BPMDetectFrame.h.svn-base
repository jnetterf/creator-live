/*****************************************************
BPMDetectFrame.h                           rev. 110716

  Part of the Creator Live Music Workstation Project
  Copyright Joshua Netterfield  (trintith@gmail.com)

                 All rights reserved.
*****************************************************/

#ifndef FILTERFRAME_H
#define FILTERFRAME_H

#include "BPMDetect.h"
#include "../App.h"
#include "../AppFrame.h"
#include "src/Widgets/RotatedLabel.h"


class BPMDetectFrame : public AppFrame
{
    Q_OBJECT
public:
    BPMDetectApp& app;
    RotatedLabel* ui_label;

public:
    explicit BPMDetectFrame(BPMDetectApp* backend,QWidget *parent = 0);
    ~BPMDetectFrame();

protected:
    void timerEvent(QTimerEvent *);
    void resizeEvent(QResizeEvent *);
};

class BPMDetectCreator : public AppCreator
{
public:
  BPMDetectCreator()
  {
      AppSys::registerCreator(this);
  }
  QString name() { return "BPMDetect"; }
  ObjectPtr newBackend() { return new BPMDetectApp(); }
  AppFrame* newFrontend(ObjectPtr backend) { return new BPMDetectFrame(live_cast_to_cptr<BPMDetectApp*>(backend)); }
  QIcon icon() { return QIcon(":/icons/app_bpm.png"); }
  static BPMDetectCreator evil;    //you should(n't) really do this!!!
};

#endif
